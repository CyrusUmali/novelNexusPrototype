<html lang="en"><head>
    <meta name="referrer" content="no-referrer">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="..." crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="./admin/admin.css">
    <link rel="stylesheet" href="./base.css">
    <script src="./node_modules/axios/dist/axios.min.js"></script>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>

</head>

<body>






    <div class="main">


        <div class="pop-up-bg hide">





        </div>

        <div class="header">

            <!-- <div class="search-bar" style="opacity: 0;">

                <input type="text" name="" placeholder="Search">



            </div> -->

            <div class="header__toggle">
                <i class="bx bx-menu nav__icon" id="header-toggle"></i>
            </div>


            <div class="right">

                <div>

                    <div class="notifIconDiv" onclick="showNotif()">
                        <i class="bx bx-bell nav__icon"></i>
                        <span class="notifCount" style="display: inline;">3</span>
                    </div>



                    <div id="popUpNotif" class="popup-notifications hide">

                        <div class="head">

                            <div>
                                <i class="bx bx-bell"></i>
                                <span>Recent Notifications</span>
                            </div>


                            <i class="bx bx-x" onclick="showNotif()"></i>
                        </div>



                        <div id="notifContent" class="notifContent">
                            <!-- Notifications will be injected here -->
                        </div>
                    </div>





                </div>


                <div class="profile">

                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1732450285/testUpload/dat2jellt2ata5zp16km.jpg" alt="User Profile">
                    <span>
                        Cyrusszz                    </span>
                    <i><svg width="13" height="7" viewBox="0 0 13 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.17585 6.38027C6.79349 6.73088 6.20651 6.73088 5.82415 6.38027L1.03312 1.98704C0.360988 1.37072 0.797034 0.25 1.70896 0.25L11.291 0.25C12.203 0.25 12.639 1.37072 11.9669 1.98704L7.17585 6.38027Z" fill="#4D4D4D"></path>
                        </svg></i>
                </div>

            </div>



        </div>

        <div class="nav" id="navbar">
            <nav class="nav__container">
                <div>

                    <a href="#" class="nav__link nav__logo navActive">
                        <i class="bx bxs-disc nav__icon" style="color:mediumaquamarine"></i>
                        <span class="nav__logo-name">Library</span>
                    </a>

                    <div class="nav__list">
                        <div class="nav__items">
                            <h3 class="nav__subtitle">Profile</h3>

                            <a href="./index.html" class="nav__link">
                                <i class="bx bx-home nav__icon"></i>
                                <span class="nav__name">Home</span>
                            </a>


                            <a href="./search-book.html" class="nav__link">
                                <i class="bx bx-search nav__icon"></i>
                                <span class="nav__name">Search</span>
                            </a>


                            <a href="./my-shelf.html" class="nav__link">
                                <i class="bx bx-cabinet nav__icon"></i>
                                <span class="nav__name">My Shelf</span>
                            </a>

                            <a href="./settings.html" class="nav__link">
                                <i class="bx bx-cog nav__icon"></i>
                                <span class="nav__name">Settings</span>
                            </a>




                        </div>

                    </div>
                </div>

                <a href="./db/php/user/logout.php" class="nav__link nav__logout">
                    <i class="bx bx-log-out nav__icon"></i>
                    <span class="nav__name">Log Out</span>
                </a>
            </nav>
        </div>







        <div class="content">
            <div class="users-section">

 <h2>Settings</h2>
    <div class="settings-nav">
        
        <a href="?page=settings" class="row active">
            <div class="left">
                <!-- <i class='bx bx-user'></i> -->
                <span class="underline-hover-animation">User Info</span>
            </div>
            <!-- <i class='bx bx-chevron-right'></i> -->
        </a>

        
        <a href="?page=notifications" class="row ">
            <div class="left">
                <!-- <i class='bx bx-bell'></i> -->
                <span class="underline-hover-animation">Notifications</span>
            </div>
            <!-- <i class='bx bx-chevron-right'></i> -->
        </a>

        <a href="?page=subscription" class="row ">
            <div class="left">
                <!-- <i class='bx bx-card'></i> -->
                <span class="underline-hover-animation">Subscription</span>
            </div>
            <!-- <i class='bx bx-chevron-right'></i> -->
        </a>
    </div>


    <div class="user-profile" id="userProfilePage">

        <div class="head">

            <div class="left">

                <div class="left-1">

                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1732450285/testUpload/dat2jellt2ata5zp16km.jpg" alt="" id="userPhoto">

                </div>

                <div class="left-2">

                    <b>Upload a New Photo</b> <br>
                    <label for="">Profile-pic.jpg</label>

                </div>



            </div>

            <button type="button" onclick="updateUserPhoto()" id="updateUserButton">Update</button>

        </div>

        <form action="" class="user-profile-form">
            <b onclick="uploadImageToCloudinary()">Change User Information Here</b>

            <div class="row">
                <div>
                    <label for="first-name">First Name</label>
                    <input type="text" id="first-name">
                </div>

                <div>
                    <label for="last-name">Last Name</label>
                    <input type="text" id="last-name">
                </div>
            </div>

            <div class="row">
                <div>
                    <label for="phone-number">Phone Number</label>
                    <input type="text" id="phone-number">
                </div>

                <div>
                    <label for="email">Email</label>
                    <input type="text" id="email">
                </div>
            </div>

            <button onclick="updateUserInfo()" type="button">Update Information</button>
        </form>



    </div>

</div>        </div>
    </div>


    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script src="./pages/user.js"></script>
    <script src="./js/bookPrev.js"></script>
    <script src="./js/payment.js"></script>
    <script src="./js/userProfile.js"></script>
    <script src="./js/userNotif.js"></script>


    <script>
        // Get the current URL's `page` query parameter
        const urlParams = new URLSearchParams(window.location.search);
        const currentPage = urlParams.get('page') || 'dashboard'; // Default to 'dashboard'

        // Get all nav links
        const navLinks = document.querySelectorAll('.nav__link');

        navLinks.forEach(link => {
            // Check if the link's href matches the current page
            const linkPage = new URL(link.href).searchParams.get('page');
            if (linkPage === currentPage) {
                link.classList.add('navActive');
            } else {
                link.classList.remove('navActive');
            }
        });

        /*==================== SHOW NAVBAR ====================*/
        const showMenu = (headerToggle, navbarId) => {
            const toggleBtn = document.getElementById(headerToggle),
                nav = document.getElementById(navbarId);

            // Validate that variables exist
            if (headerToggle && navbarId) {
                toggleBtn.addEventListener('click', () => {
                    // Toggle the menu visibility
                    nav.classList.toggle('show-menu');
                    // Change icon
                    toggleBtn.classList.toggle('bx-x');
                });
            }
        };
        showMenu('header-toggle', 'navbar');
    </script>




<iframe name="__privateStripeMetricsController3760" frameborder="0" allowtransparency="true" scrolling="no" role="presentation" allow="payment *" src="https://js.stripe.com/v3/m-outer-3437aaddcdf6922d623e172c2d6f9278.html#url=http%3A%2F%2Flocalhost%2Flibrary-group%2Findex.php%3Fpage%3Dsettings&amp;title=Document&amp;referrer=&amp;muid=380f102f-4c44-4561-b0c6-496eaaaba0821fe8ec&amp;sid=521cb6ae-6a09-46a2-a0f6-2caa6a4589bbab3443&amp;version=6&amp;preview=false&amp;metaReferrerPolicy=no-referrer" aria-hidden="true" tabindex="-1" style="border: none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important; visibility: hidden !important; position: fixed !important; height: 1px !important; pointer-events: none !important; user-select: none !important;"></iframe></body></html>