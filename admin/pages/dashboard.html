<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../admin.css">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="..." crossorigin="anonymous">
    <script src="../node_modules/axios/dist/axios.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">

    <!-- jQuery (necessary for Select2) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">




</head>

<body>



    <div class="admin-main">

        <div class="pop-up-bg hide   ">

    
        </div>


        <div class="header">

            <!-- <div class="search-bar" style="opacity: 0;">

                <input type="text" name="" placeholder="Search">



            </div> -->

            <div class="header__toggle">
                <i class="bx bx-menu nav__icon" id="header-toggle"></i>
            </div>


            <div class="profile">

                <img src="../resources/admin.png">

                <span>Admin</span>

                <i><svg width="13" height="7" viewBox="0 0 13 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.17585 6.38027C6.79349 6.73088 6.20651 6.73088 5.82415 6.38027L1.03312 1.98704C0.360988 1.37072 0.797034 0.25 1.70896 0.25L11.291 0.25C12.203 0.25 12.639 1.37072 11.9669 1.98704L7.17585 6.38027Z" fill="#4D4D4D"></path>
                    </svg>
                </i>

            </div>

        </div>


        <div class="nav" id="navbar">
            <nav class="nav__container">
                <div>

                    <a href="#" class="nav__link nav__logo">
                        <i class="bx bxs-disc nav__icon"></i>
                        <span class="nav__logo-name">Library</span>
                    </a>

                    <div class="nav__list">
                        <div class="nav__items">
                            <h3 class="nav__subtitle">Dashboard</h3>

                            <a href="./dashboard.html" class="nav__link active">
                                <i class="bx bxs-dashboard nav__icon"></i>
                                <span class="nav__name">Dashboard</span>
                            </a>
                           

                            <a href="./books.html" class="nav__link">
                                <i class="bx bx-book-alt nav__icon"></i>
                                <span class="nav__name">Books</span>
                            </a>


                            <a href="./users.html" class="nav__link">
                                <i class="bx bx-user nav__icon"></i>
                                <span class="nav__name">Users</span>
                            </a>
                         
                            <a href="./loans.html" class="nav__link">
                                <i class="bx bx-book-reader  nav__icon"></i>
                                <span class="nav__name">Loans</span>
                            </a>


                            <a href="./return.html" class="nav__link">
                                <i class="bx bx-book  nav__icon"></i>
                                <span class="nav__name">Book Return</span>
                            </a>



                            <i class=""></i>
                           


                        </div>

                      
                    </div>
                </div> 
                <a href="../db/php/dashboard/adminLogout.php" class="nav__link nav__logout">
                    <i class="bx bx-log-out nav__icon"></i>
                    <span class="nav__name">Log Out</span>
                </a>
            </nav>
        </div>




        <div class="content">
             

<div class="dashboard" id="dashboard">
    <div class="top">
        <div class="left">
            <h1 class="txt1" onclick="remindNearingOverdue()">Hello, Admin!</h1>
            <p class="date">

                </p><p class="date">Dec 05, 2024 | Thursday, 10:59 PM</p>


            <p></p>
        </div>
        <select name="month" id="month" onchange="changeMonth()">
            <option value="12" selected="">December</option><option value="11">November</option><option value="10">October</option><option value="9">September</option><option value="8">August</option><option value="7">July</option><option value="6">June</option><option value="5">May</option><option value="4">April</option><option value="3">March</option><option value="2">February</option><option value="1">January</option>        </select>


    </div>

    <div class="row1">
        <div class="item">
            <div>
                <span id="paidMembers">1</span> <i class="bx bx-user"></i>
            </div>
            <label for="">Paid Subscription</label>
        </div>
        <div class="item">
            <div>
                <span id="borrowedBooks">12</span> <i class="bx bx-book-reader"></i>
            </div>
            <label for="">Borrowed Books</label>
        </div>
        <div class="item">
            <div>
                <span id="overdueBooks">2</span> <i class="bx bx-time-five"></i>
            </div>
            <label for="">Overdue Books</label>
        </div>
        <div class="item">
            <div>
                <span id="usersCreated">0</span> <i class="bx bx-user-plus"></i>
            </div>
            <label for="">New Members</label>
        </div>
    </div>

    <div class="row3">
    <div class="sec-header">
        <h3>Popular Books</h3>
    </div>
    <div class="sec-body"><div class="item">
                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1731584630/testUpload/cnkh7soqbkng3jhleyuu.jpg" alt="Book Cover">
                    <span class="title">Konosuba</span>
                    <span class="author">Natsume Atsuki</span>
                </div><div class="item">
                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1732001857/testUpload/hmgi2dawggw6ycypundv.jpg" alt="Book Cover">
                    <span class="title">Talk Back and You're Dead!</span>
                    <span class="author">Alesana Marie</span>
                </div><div class="item">
                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1731584523/testUpload/mbw9zruf5v7lpwtjvwuu.jpg" alt="Book Cover">
                    <span class="title">Adulthood Is A Gift</span>
                    <span class="author">Sarah Andersen</span>
                </div><div class="item">
                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1732002178/testUpload/sfozkub0upux5aym88q2.jpg" alt="Book Cover">
                    <span class="title">My Darling Dreadful Thing</span>
                    <span class="author">Johanna van Veen</span>
                </div><div class="item">
                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1731584282/testUpload/nxgwe6fv2wm2bma5cggt.jpg" alt="Book Cover">
                    <span class="title">Azarinth Healer</span>
                    <span class="author">Rhaegar</span>
                </div><div class="item">
                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1732238379/testUpload/niybkj9tgjcmacxwczi4.jpg" alt="Book Cover">
                    <span class="title">Boneshaker</span>
                    <span class="author">Cherie Priest</span>
                </div><div class="item">
                    <img src="https://res.cloudinary.com/dk41ykxsq/image/upload/v1732001981/testUpload/hlyovd2ggzgj3c1de1tf.png" alt="Book Cover">
                    <span class="title">The PLAN: Manage Your Time Like a Lazy Genius</span>
                    <span class="author">Kendra Adachi</span>
                </div></div>
</div>



    <div class="row2">


        <h3>Overdue Book List</h3>

        <table class="overdueTbl">

            <thead>
                <tr>
                    <td>User ID</td>
                    <td>Member</td>
                    <td>Book Title</td>
                    <td>Start Date</td>
                    <td>Return Date</td>
                    <td>Overdue</td>
                    <td>Fine</td>
                </tr>
            </thead>

            <tbody id="overdueTbody"><tr class="loan-row" data-id="2" data-member="Cyrusszz Carbungco" data-book_title="Azarinth Healer" data-author="Rhaegar" data-loan_from="2024-11-24" data-loan_to="2024-11-27" data-status="Overdue" data-fine="400" data-days_overdue="8">
            <td>24</td>
            <td> <span> Cyrusszz Carbungco  </span> </td> 
            <td><span> Azarinth Healer </span> </td>
           
            <td>2024-11-24</td>
            <td>2024-11-27</td>
              <td>8 days</td>
            <td style="color: tomato;"> (Fine: â‚±400)</td>
         
 
        </tr><tr class="loan-row" data-id="1" data-member="Phi Sora" data-book_title="Salvos" data-author="Melasd" data-loan_from="2024-11-27" data-loan_to="2024-11-30" data-status="Overdue" data-fine="250" data-days_overdue="5">
            <td>11</td>
            <td> <span> Phi Sora  </span> </td> 
            <td><span> Salvos </span> </td>
           
            <td>2024-11-27</td>
            <td>2024-11-30</td>
              <td>5 days</td>
            <td style="color: tomato;"> (Fine: â‚±250)</td>
         
 
        </tr></tbody>
        </table>


        



        <div class="bottom" id="overdueTablePaginationContainer">
            <ul class="page-ctrl" id="overduePagination">
                <!-- <a href="#" id="prev">
                    <li><i class='bx bx-chevron-left'></i></li>
                </a> -->
                <!-- Dynamic page numbers will be inserted here -->
                <!-- <a href="#" id="next">
                    <li><i class='bx bx-chevron-right'></i></li>
                </a> -->
            <a class="page-number is-active" href="#"><li>1</li></a></ul>
        </div>



    </div>

    <div class="row4">

        <div class="item">

            <h3>Payment Reports</h3>

            <div class="body">

                <div class="left">

                    <div class="desc">

                        <span id="paymentCollection">â‚±2345.00</span>
                        <label for="">Last Month Collection</label>

                    </div>
                    <div class="legend">

                        <div class="Lrow">

                            <i class="mark1"></i> <label for="">Subscription</label>


                        </div>

                        <div class="Lrow">


                            <i class="mark2"></i> <label for="">Fines</label>

                        </div>


                    </div>

                </div>

                <div class="payment-report">
                    <canvas class="payment-chart" width="250" height="250" style="display: block; box-sizing: border-box; height: 200px; width: 200px;"></canvas>
                </div>



            </div>


        </div>


        <div class="item">

            <h3>Book Category Popularity</h3>

            <div class="body">


                <div class="categoru-report">
                    <canvas id="categoryChart" width="500" height="250" style="display: block; box-sizing: border-box; height: 200px; width: 400px;"></canvas>
                </div>



            </div>


        </div>


        <div class="item">

            <h3>Book availability</h3>

            <div class="body">

                <div class="left">

                    <div class="desc">


                    </div>
                    <div class="legend">

                        <div class="Lrow">

                            <i class="mark1"></i> <label for="">Loaned</label>


                        </div>

                        <div class="Lrow">


                            <i class="mark2"></i> <label for="">Available</label>

                        </div>


                    </div>

                </div>

                <div class="book-availability-report">


                    <canvas class="book-availability-chart" width="250" height="250" style="display: block; box-sizing: border-box; height: 200px; width: 200px;"></canvas>



                </div>



            </div>


        </div>


    </div>

    <div class="row2">


        <h3>Payment List</h3>

        <table class="overdueTbl">

            <thead>
                <tr>
                    <td>User ID</td>
                    <td>Member</td>
                    <td>Payment For</td>
                    <td>Amount</td>
                    <td>Date</td>
                </tr>
            </thead>

            <tbody id="paymentTbl"><tr>
            <td>24</td>
            <td>Cyrusszz Carbungco</td>
            <td>Fines</td>
            <td style="color:mediumseagreen;"> â‚± 399</td>
            <td>2024-12-02</td>
        </tr><tr>
            <td>24</td>
            <td>Cyrusszz Carbungco</td>
            <td>Fines</td>
            <td style="color:mediumseagreen;"> â‚± 699</td>
            <td>2024-12-03</td>
        </tr><tr>
            <td>24</td>
            <td>Cyrusszz Carbungco</td>
            <td>Fines</td>
            <td style="color:mediumseagreen;"> â‚± 399</td>
            <td>2024-12-03</td>
        </tr></tbody>
        </table>


        



        <div class="bottom" id="paymentsPaginationContainer">
            <ul class="page-ctrl" id="paymentPagination"><a class="page-number is-active" href="#"><li>1</li></a><a class="page-number" href="#"><li>2</li></a><a class="page-number" href="#"><li>3</li></a></ul>
        </div>



    </div>


</div>        </div>
    </div>





<script src="./admin.js"></script>
<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>


<script>
    // Get the current URL's `page` query parameter
    const urlParams = new URLSearchParams(window.location.search);
    const currentPage = urlParams.get('page') || 'dashboard'; // Default to 'dashboard'

    // Get all nav links
    const navLinks = document.querySelectorAll('.nav__link');

    navLinks.forEach(link => {
        // Check if the link's href matches the current page
        const linkPage = new URL(link.href).searchParams.get('page');
        if (linkPage === currentPage) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });

    /*==================== SHOW NAVBAR ====================*/
    const showMenu = (headerToggle, navbarId) => {
        const toggleBtn = document.getElementById(headerToggle),
            nav = document.getElementById(navbarId);

        // Validate that variables exist
        if (headerToggle && navbarId) {
            toggleBtn.addEventListener('click', () => {
                // Toggle the menu visibility
                nav.classList.toggle('show-menu');
                // Change icon
                toggleBtn.classList.toggle('bx-x');
            });
        }
    };
    showMenu('header-toggle', 'navbar');
</script>







</body></html>